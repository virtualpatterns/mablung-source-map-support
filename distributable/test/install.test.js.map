{"version":3,"sources":["../../source/test/install.test.js"],"names":["Path","Test","test","error","Error","errorStack","stack","split","stackItem","pattern","errorPath","errorLineNumber","errorColumnNumber","match","log","relative","filePath","_URL","fileURLToPath","import","meta","url","replace","is"],"mappings":"uBAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,IAAP,MAAiB,KAAjB;;AAEAA,IAAI,CAAC,eAAD,EAAmBC,IAAD,IAAU;;AAE9B,MAAIC,KAAK,GAAG,IAAIC,KAAJ,CAAU,OAAV,CAAZ;;AAEA,MAAIC,UAAU,GAAGF,KAAK,CAACG,KAAN,CAAYC,KAAZ,CAAkB,IAAlB,CAAjB;AACA,MAAI,GAAGC,SAAH,IAAgBH,UAApB;;AAEA,MAAII,OAAO,GAAG,sBAAd;AACA,MAAI,GAAGC,SAAH,EAAcC,eAAd,EAA+BC,iBAA/B,IAAoDJ,SAAS,CAACK,KAAV,CAAgBJ,OAAhB,CAAxD;;AAEAP,EAAAA,IAAI,CAACY,GAAL,CAAU,IAAGd,IAAI,CAACe,QAAL,CAAc,EAAd,EAAkBL,SAAlB,CAA6B,aAAYC,eAAgB,YAAWC,iBAAkB,EAAnG;;AAEA,MAAII,QAAQ,GAfdC,IAAI,CAACC,aAAL,CAAmBC,MAAM,CAACC,IAAP,CAAYC,GAA/B,CAeE;AACAL,EAAAA,QAAQ,GAAGA,QAAQ,CAACM,OAAT,CAAiB,gBAAjB,EAAmC,QAAnC,CAAX;;AAEApB,EAAAA,IAAI,CAACqB,EAAL,CAAQb,SAAR,EAAmBM,QAAnB;;AAED,CAjBG,CAAJ","sourcesContent":["import Path from 'path'\nimport Test from 'ava'\n\nTest('Error(string)', (test) => {\n\n  let error = new Error('error')\n\n  let errorStack = error.stack.split('\\n')\n  let [, stackItem] = errorStack\n\n  let pattern = /at (.+):(\\d+):(\\d+)/i\n  let [, errorPath, errorLineNumber, errorColumnNumber] = stackItem.match(pattern)\n\n  test.log(`'${Path.relative('', errorPath)}' on line ${errorLineNumber}, column ${errorColumnNumber}`)\n\n  let filePath = __filePath\n  filePath = filePath.replace(/distributable/i, 'source')\n\n  test.is(errorPath, filePath)\n\n})\n"],"file":"install.test.js"}