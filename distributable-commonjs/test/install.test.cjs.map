{"version":3,"sources":["../../source-commonjs/test/install.test.cjs"],"names":["test","error","Error","errorStack","stack","split","stackItem","pattern","errorPath","errorLineNumber","errorColumnNumber","match","log","Path","relative","filePath","__filename","replace","is"],"mappings":";;AAAA;;AACA;;;;AACA;AAEA,kBAAK,eAAL,EAAuBA,IAAD,IAAU;AAE9B,MAAIC,KAAK,GAAG,IAAIC,KAAJ,CAAU,OAAV,CAAZ;AAEA,MAAIC,UAAU,GAAGF,KAAK,CAACG,KAAN,CAAYC,KAAZ,CAAkB,IAAlB,CAAjB;AACA,MAAI,GAAGC,SAAH,IAAgBH,UAApB;AAEA,MAAII,OAAO,GAAG,sBAAd;AACA,MAAI,GAAGC,SAAH,EAAcC,eAAd,EAA+BC,iBAA/B,IAAoDJ,SAAS,CAACK,KAAV,CAAgBJ,OAAhB,CAAxD;AAEAP,EAAAA,IAAI,CAACY,GAAL,CAAU,IAAGC,cAAKC,QAAL,CAAc,EAAd,EAAkBN,SAAlB,CAA6B,aAAYC,eAAgB,YAAWC,iBAAkB,EAAnG;AAEA,MAAIK,QAAQ,GAAGC,UAAf,CAZ8B,CAYJ;;AAC1BD,EAAAA,QAAQ,GAAGA,QAAQ,CAACE,OAAT,CAAiB,yBAAjB,EAA4C,iBAA5C,CAAX;AAEAjB,EAAAA,IAAI,CAACkB,EAAL,CAAQV,SAAR,EAAmBO,QAAnB;AAED,CAjBD","sourcesContent":["import Path from 'path'\nimport Test from 'ava'\n// import URL from 'url'\n\nTest('Error(string)', (test) => {\n\n  let error = new Error('error')\n\n  let errorStack = error.stack.split('\\n')\n  let [, stackItem] = errorStack\n\n  let pattern = /at (.+):(\\d+):(\\d+)/i\n  let [, errorPath, errorLineNumber, errorColumnNumber] = stackItem.match(pattern)\n\n  test.log(`'${Path.relative('', errorPath)}' on line ${errorLineNumber}, column ${errorColumnNumber}`)\n\n  let filePath = __filename // URL.fileURLToPath(import.meta.url)\n  filePath = filePath.replace(/distributable-commonjs/i, 'source-commonjs')\n\n  test.is(errorPath, filePath)\n\n})\n"],"file":"install.test.cjs"}