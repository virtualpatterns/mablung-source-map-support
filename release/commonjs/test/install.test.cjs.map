{"version":3,"sources":["../../../source/commonjs/test/install.test.cjs"],"names":[],"mappings":";;AAAA;;AACA;;AACA;;;;AAEA,MAAM,QAAQ,GAAG,UAAjB;AACA,MAAM,WAAW,GAAI,GAAE,QAAS,MAAhC;AAEA,MAAM,IAAI,GAAG,iBAAW,cAAX,CAA0B,WAA1B,IAAyC,YAAzC,GAAiD,aAAM,OAApE;AAEA,IAAI,CAAC,eAAD,EAAkB,MAAO,IAAP,IAAgB;AAEpC,MAAI,KAAK,GAAG,IAAI,KAAJ,CAAU,OAAV,CAAZ;AAEA,MAAI,UAAU,GAAG,KAAK,CAAC,KAAN,CAAY,KAAZ,CAAkB,IAAlB,CAAjB;AACA,MAAI,GAAG,SAAH,IAAgB,UAApB;AAEA,MAAI,OAAO,GAAG,sBAAd;AACA,MAAI,GAAG;AAAU;AAAb,MAA0D,SAAS,CAAC,KAAV,CAAgB,OAAhB,CAA9D;;AAEA,MAAI,IAAI,KAAK,aAAM,OAAnB,EAA4B;AAC1B,IAAA,IAAI,CAAC,GAAL,CAAU,mBAAkB,cAAK,QAAL,CAAc,EAAd,EAAkB,QAAlB,CAA4B,uBAAxD;AACD;;AAED,EAAA,IAAI,CAAC,EAAL,CAAQ,SAAR,EAAmB,QAAQ,CAAC,OAAT,CAAiB,UAAjB,EAA6B,QAA7B,CAAnB;AAED,CAhBG,CAAJ","file":"install.test.cjs","sourcesContent":["import FileSystem from 'fs-extra'\nimport Path from 'path'\nimport _Test from 'ava'\n\nconst FilePath = __filename\nconst FileMapPath = `${FilePath}.map`\n\nconst Test = FileSystem.pathExistsSync(FileMapPath) ? _Test : _Test.failing\n\nTest('Error(string)', async (test) => {\n\n  let error = new Error('error')\n\n  let errorStack = error.stack.split('\\n')\n  let [, stackItem] = errorStack\n\n  let pattern = /at (.+):(\\d+):(\\d+)/i\n  let [, errorPath /*, errorLineNumber, errorColumnNumber */] = stackItem.match(pattern)\n\n  if (Test === _Test.failing) {\n    test.log(`The source map '${Path.relative('', FilePath)}.map' does not exist!`)\n  }\n\n  test.is(errorPath, FilePath.replace(/release/i, 'source'))\n\n})\n"]}