{"version":3,"sources":["../../source/test/install.test.js"],"names":["Path","Test","URL","test","error","Error","errorStack","stack","split","stackItem","pattern","errorPath","errorLineNumber","errorColumnNumber","match","log","relative","filePath","fileURLToPath","import","meta","url","replace","is"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,IAAP,MAAiB,KAAjB;AACA,OAAOC,GAAP,MAAgB,KAAhB;;AAEAD,IAAI,CAAC,eAAD,EAAmBE,IAAD,IAAU;;AAE9B,MAAIC,KAAK,GAAG,IAAIC,KAAJ,CAAU,OAAV,CAAZ;;AAEA,MAAIC,UAAU,GAAGF,KAAK,CAACG,KAAN,CAAYC,KAAZ,CAAkB,IAAlB,CAAjB;AACA,MAAI,GAAGC,SAAH,IAAgBH,UAApB;;AAEA,MAAII,OAAO,GAAG,sBAAd;AACA,MAAI,GAAGC,SAAH,EAAcC,eAAd,EAA+BC,iBAA/B,IAAoDJ,SAAS,CAACK,KAAV,CAAgBJ,OAAhB,CAAxD;;AAEAP,EAAAA,IAAI,CAACY,GAAL,CAAU,IAAGf,IAAI,CAACgB,QAAL,CAAc,EAAd,EAAkBL,SAAlB,CAA6B,aAAYC,eAAgB,YAAWC,iBAAkB,EAAnG;;AAEA,MAAII,QAAQ,GAAGf,GAAG,CAACgB,aAAJ,CAAkBC,MAAM,CAACC,IAAP,CAAYC,GAA9B,CAAf;AACAJ,EAAAA,QAAQ,GAAGA,QAAQ,CAACK,OAAT,CAAiB,gBAAjB,EAAmC,QAAnC,CAAX;;AAEAnB,EAAAA,IAAI,CAACoB,EAAL,CAAQZ,SAAR,EAAmBM,QAAnB;;AAED,CAjBG,CAAJ","sourcesContent":["import Path from 'path'\nimport Test from 'ava'\nimport URL from 'url'\n\nTest('Error(string)', (test) => {\n\n  let error = new Error('error')\n\n  let errorStack = error.stack.split('\\n')\n  let [, stackItem] = errorStack\n\n  let pattern = /at (.+):(\\d+):(\\d+)/i\n  let [, errorPath, errorLineNumber, errorColumnNumber] = stackItem.match(pattern)\n\n  test.log(`'${Path.relative('', errorPath)}' on line ${errorLineNumber}, column ${errorColumnNumber}`)\n\n  let filePath = URL.fileURLToPath(import.meta.url)\n  filePath = filePath.replace(/distributable/i, 'source')\n\n  test.is(errorPath, filePath)\n\n})\n"],"file":"install.test.js"}